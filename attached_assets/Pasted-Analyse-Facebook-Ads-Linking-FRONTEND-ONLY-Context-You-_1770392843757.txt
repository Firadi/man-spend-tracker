Analyse â†” Facebook Ads Linking (FRONTEND ONLY)
ğŸ“Œ Context

You are working on an existing React web app for e-commerce analytics.

There are already:

Analyse page (table with products, revenue, ads, service fees, profit, KPIs)

Facebook Ads page (frontend only) with selectable Ad Sets

Products stored in localStorage

This task is FRONTEND ONLY.
No backend, no Facebook API, no OAuth.

ğŸ¯ Goal of This Step

Link Analyse rows (products) with Facebook Ad Sets, while ensuring:

âœ… Ads spend is stored independently
âœ… Removing or changing Ad Sets does NOT delete spend history
âœ… UI is API-ready for future backend integration

ğŸ§© Core Concept (VERY IMPORTANT)
Ads Spend is OWNED BY PRODUCT, NOT by Ad Set

Ad Sets are only sources of spend, not the owner.

Once spend is saved:

It belongs to the product

It must never disappear automatically

ğŸ§± Data Models (STRICT â€” DO NOT CHANGE)
1ï¸âƒ£ Product Ads Spend (Persistent)
productAdsSpend = {
  productId: "prod_1",
  spend: 1200,
  source: "manual" | "facebook",
  lastUpdated: "2026-02-06",
  linkedAdSets: [
    {
      adSetId: "adset_1",
      adSetName: "Broad â€“ Men",
      campaignId: "cmp_1",
      campaignName: "Winter Sales"
    }
  ]
}

Stored in localStorage.

2ï¸âƒ£ Ad Set Link (Reference Only)

Ad Sets only reference products.
They never own spend.

ğŸ–¥ï¸ Analyse Page â€” UI Changes
Add a Facebook Icon Column (END of table)

For each product row, add:

ğŸ“˜ Facebook icon (Link Ad Sets)

Tooltip: â€œLink Facebook Ad Setsâ€

ğŸªŸ Link Ad Sets Modal

When clicking the Facebook icon:

Modal Content

1ï¸âƒ£ Product info at top

Product name

SKU (if exists)

2ï¸âƒ£ Linked Ad Sets section

List currently linked Ad Sets

Each with âŒ remove button (removes link ONLY)

3ï¸âƒ£ Button: Select Ad Sets

Opens Facebook Ads selection modal

Uses selections from Facebook Ads page

4ï¸âƒ£ Ads Spend Input

Number input

Label: Ads Spend

Editable manually

Default:

Existing saved spend

OR 0

5ï¸âƒ£ Button: Save

ğŸ’¾ Save Behavior (CRITICAL)

On Save:

Save spend to product

Save linked Ad Sets as metadata only

Spend must persist even if:

Ad Set is removed

Ad Set is deleted

Facebook connection is lost

âŒ Never auto-reset spend
âŒ Never auto-sync spend yet

ğŸ“Š Analyse Table Logic
Ads Column Behavior

Ads value = productAdsSpend.spend

Editable inline OR via modal

Always reflects saved value

ğŸ”„ Changing / Removing Ad Sets

If user removes all Ad Sets:

Show warning text:

â€œAd Sets removed â€” spend remains manualâ€

Spend remains untouched.

ğŸŒ± Default State

If product has:

No Ad Set

No saved spend

Then:

Ads = 0

Source = manual

ğŸ¨ UX Rules

Clear Facebook branding (blue icon)

No blocking validation

Fast interactions

Spreadsheet feel

ğŸš« DO NOT IMPLEMENT

Automatic spend fetching

Facebook API calls

Backend logic

Spend recalculation based on Ad Sets

âœ… Final Result

After this step:

Products can be linked to Facebook Ad Sets

Ads spend is safely stored per product

Analyse works 100% offline

Backend can be plugged later without UI changes

ğŸ§  Developer Hint (IMPORTANT)

Treat Ad Sets like tags
Treat Ads Spend like financial truth



